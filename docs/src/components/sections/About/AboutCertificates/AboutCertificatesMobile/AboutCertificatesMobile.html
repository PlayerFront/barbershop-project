<!DOCTYPE html>

<html>
<head>
  <title>AboutCertificatesMobile.jsx</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="..\..\..\..\..\..\docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>AboutCertificatesMobile.jsx</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-1">&#x00a7;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Swiper</span>, <span class="hljs-title class_">SwiperSlide</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;swiper/react&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Navigation</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;swiper/modules&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;swiper/css&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;swiper/css/navigation&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./_about-certificates-mobile.scss&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">CarouselButton</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../../../ui/CarouselButton/CarouselButton&#x27;</span>;

<span class="hljs-keyword">import</span> prevBtn <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../../../../assets/icons/previous-button.svg&#x27;</span>;
<span class="hljs-keyword">import</span> nextBtn <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../../../../assets/icons/next-button.svg&#x27;</span>;

<span class="hljs-comment">/**
 * AboutCertificatesMobile - Responsive certificates carousel component for mobile devices
 * 
 * Displays a touch-friendly carousel of barbershop certificates with adaptive image loading.
 * Automatically serves optimized certificate images (400px, 800px, 1200px) based on device viewport
 * using srcSet for optimal performance on mobile devices.
 * 
 * Key features:
 * - Adaptive image loading with three size variants
 * - Touch-friendly Swiper carousel implementation
 * - Automatic sorting and grouping of certificate images
 * - Lazy loading for performance optimization
 * - Mobile-first responsive design
 * 
 * <span class="hljs-doctag">@component</span>
 * <span class="hljs-doctag">@example</span>
 * &lt;AboutCertificatesMobile /&gt;
 * 
 * File structure:
 * certificate-1-400.webp    // mobile devices
 * certificate-1-800.webp    // tablets  
 * certificate-1-1200.webp   // desktop (fallback)
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">AboutCertificatesMobile</span> = (<span class="hljs-params"></span>) =&gt; {

    <span class="hljs-keyword">const</span> certificateImages = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-title function_">glob</span>(<span class="hljs-string">&#x27;../../../../../assets/images/certs/certificate-*.webp&#x27;</span>, {
        <span class="hljs-attr">eager</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">query</span>: <span class="hljs-string">&#x27;?url&#x27;</span>
    })).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">default</span>);

        <span class="hljs-keyword">const</span> <span class="hljs-title function_">getCertificateGroups</span> = (<span class="hljs-params"></span>) =&gt; {
        <span class="hljs-keyword">const</span> groups = {};

        certificateImages.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">path</span> =&gt;</span> {
            <span class="hljs-keyword">const</span> filename = path.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;/&#x27;</span>).<span class="hljs-title function_">pop</span>();
            <span class="hljs-keyword">const</span> parts = filename.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;-&#x27;</span>);

            <span class="hljs-keyword">if</span> (parts.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">3</span> &amp;&amp; parts[<span class="hljs-number">0</span>] === <span class="hljs-string">&#x27;certificate&#x27;</span>) {
                <span class="hljs-keyword">const</span> number = parts[<span class="hljs-number">1</span>];
                <span class="hljs-keyword">const</span> size = parts[<span class="hljs-number">2</span>].<span class="hljs-title function_">replace</span>(<span class="hljs-string">&#x27;.webp&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>);

                <span class="hljs-keyword">if</span> (!groups[number]) groups[number] = {};
                groups[number][size] = path;
            }
        });

        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(groups)
            .<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> <span class="hljs-built_in">parseInt</span>(a) - <span class="hljs-built_in">parseInt</span>(b))
            .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> groups[number]);
    }

    <span class="hljs-keyword">const</span> certificateGroups = <span class="hljs-title function_">getCertificateGroups</span>();

    <span class="hljs-keyword">return</span> (
        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;about-certificates-mobile&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Swiper</span>
                <span class="hljs-attr">modules</span>=<span class="hljs-string">{[Navigation]}</span>
                <span class="hljs-attr">spaceBetween</span>=<span class="hljs-string">{15}</span>
                <span class="hljs-attr">loop</span>=<span class="hljs-string">{true}</span>
                <span class="hljs-attr">speed</span>=<span class="hljs-string">{400}</span>
                <span class="hljs-attr">slidesPerView</span>=<span class="hljs-string">{1}</span>
                <span class="hljs-attr">navigation</span>=<span class="hljs-string">{{</span>
                    <span class="hljs-attr">nextEl:</span> &#x27;<span class="hljs-attr">.about-certificates-mobile__btn--next</span>&#x27;,
                    <span class="hljs-attr">prevEl:</span> &#x27;<span class="hljs-attr">.about-certificates-mobile__btn--prev</span>&#x27;,
                }}
                <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;about-certificates-mobile__swiper&quot;</span>
            &gt;</span>
                {certificateGroups.map((group, index) =&gt; {
                    const adaptiveSet = {
                        src: group[&#x27;400&#x27;],
                        srcSet: `
                ${group[&#x27;400&#x27;]} 400w,
                ${group[&#x27;800&#x27;]} 800w,
                ${group[&#x27;1200&#x27;]} 1200w
                        `,
                        sizes: `(max-width: 768px) 400px,
                    (max-width: 1200px) 800px,
                    1200px`
                    }

                    return (
                        <span class="hljs-tag">&lt;<span class="hljs-name">SwiperSlide</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
                                {<span class="hljs-attr">...adaptiveSet</span>}
                                <span class="hljs-attr">alt</span>=<span class="hljs-string">{</span>`Сертификат ${<span class="hljs-attr">index</span> + <span class="hljs-attr">1</span>}`}
                                <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;about-certificates-mobile__image&quot;</span>
                                <span class="hljs-attr">loading</span>=<span class="hljs-string">&quot;lazy&quot;</span>
                            /&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">SwiperSlide</span>&gt;</span>
                    )
                })}
            <span class="hljs-tag">&lt;/<span class="hljs-name">Swiper</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;about-certificates-mobile__controls&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">CarouselButton</span>
                    <span class="hljs-attr">direction</span>=<span class="hljs-string">&quot;prev&quot;</span>
                    <span class="hljs-attr">icon</span>=<span class="hljs-string">{prevBtn}</span>
                    <span class="hljs-attr">ariaLabel</span>=<span class="hljs-string">&quot;Предыдущий слайд&quot;</span>
                    <span class="hljs-attr">swiperTarget</span>=<span class="hljs-string">&quot;about-certificates-mobile__btn--prev&quot;</span>
                /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">CarouselButton</span>
                    <span class="hljs-attr">direction</span>=<span class="hljs-string">&quot;next&quot;</span>
                    <span class="hljs-attr">icon</span>=<span class="hljs-string">{nextBtn}</span>
                    <span class="hljs-attr">ariaLabel</span>=<span class="hljs-string">&quot;Следующий слайд&quot;</span>
                    <span class="hljs-attr">swiperTarget</span>=<span class="hljs-string">&quot;about-certificates-mobile__btn--next&quot;</span>
                /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">AboutCertificatesMobile</span>;</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
